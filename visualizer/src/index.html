<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8">

<!--Project dependencies
Leaflet
D3.js
Mapbox.com
-->





<head>

    <link rel="stylesheet" href="tabstyle.css"/>
    <link rel="stylesheet" href="pagestyle.css"/>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css"
          integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ=="
          crossorigin=""/>


    <!--<link href='//mapbox.com/base/latest/base.css' rel='stylesheet' /> -->
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" type="text/javascript"></script>
    <script src="mapFunctions.js" type="text/javascript"></script>
    <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
    <script src="createChart.js" type="text/javascript"></script>
    <script src="http://d3js.org/d3.v4.min.js" type="text/javascript"></script>
    <script src="displayfunctions.js" type="text/javascript"></script>
    <script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js"></script>


</head>

<body>

<!--<h1>DNS Map</h1>-->


<!-- TAB FEATURES, WIP
<div class="tab">
    <button class="tablinks" onclick="openContent(event, 'MapWindow')">Map</button>
    <button class="tablinks" onclick="openMap(event, 'Statistics')">Statistics</button>
    <button class="tablinks" onclick="openContent(event, 'Test')">Test</button>
</div>


<div id="MapWindow" class="tabcontent">
    <div id="Map"></div>
    <script type="text/javascript">
        var queryMap = createMap();

    </script>
</div>

<div id="Statistics" class="tabcontent">
    <h3>Statistics</h3>
</div>

<div id="Test" class="tabcontent">
    <h3>Test</h3>
    <p>Test Content</p>
</div>
-->
<div id="Header" class="header"></div>

<div id="Map" class="leafletMap"></div>

<!--
<div id="searchBarContainer" class="mapMenu">
    <input type="text" name="mapSearch" placeholder="Search map..">
</div>
-->



<script type="text/javascript">
    // TODO Reformat with d3js
    // TODO Add multiple file support
    // TODO Add query display within timeframe
    // TODO Add graph for failed TLDs




    // config variables //
    var sourceFile = "../input/dnsVis0.csv";
    // config variables //

    d3.csv(sourceFile, function(data) {    // read CSV file


        // config variables //
        var DNSServerLat = 43;
        var DNSServerLong = -77;
        // config variables //
        console.log(data);
        console.log(data[2]['query']);

        createMap(data, DNSServerLat, DNSServerLong);

        var sChart = createSourceChart(data);   // create chart with frequency of each source IP
    });
</script>



<div class="tab">
    <button class="tablinks" onclick="openContent(event, 'queryFrequency');
d3.csv(sourceFile, function(data) {createQueryChart(data);})">Queries by Frequency</button>
    <button class="tablinks" onclick="openContent(event, 'sourceFrequency');
d3.csv(sourceFile, function(data) {createSourceChart(data);})">Sources by Frequency</button>
    <!--
    <button class="tablinks" onclick="openContent(event, 'recordFrequency')">Requested Records by Frequency</button>
    <button class="tablinks" onclick="openContent(event, 'countryFrequency')">Countries by Frequency</button>
    -->
</div>



<div id="queryFrequency" class="tabcontent">
    <script type="text/javascript">
        d3.csv(sourceFile, function(data) {createQueryChart(data);})
    </script>
</div>

<div id="sourceFrequency" class="tabcontent">
    <script type="text/javascript">
        d3.csv(sourceFile, function(data) {createSourceChart(data);})
    </script>
</div>

<div id="recordFrequency" class="tabcontent">
</div>

<div id="countryFrequency" class="tabcontent">

</div>

</body>


</html>